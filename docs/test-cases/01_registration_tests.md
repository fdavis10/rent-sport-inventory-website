# Тест-кейсы: Регистрация пользователей

## TC-REG-001: Успешная регистрация с валидными данными (Позитивный)

**Приоритет:** Высокий  
**Предусловия:** Пользователь не авторизован

### Шаги:
1. Перейти на страницу регистрации `/accounts/register/`
2. Заполнить форму валидными данными:
   - Username: `test_user`
   - Email: `test@example.com`
   - Имя: `Иван`
   - Фамилия: `Тестов`
   - Телефон: `+79991234567`
   - Пароль: `Test123`
   - Подтверждение пароля: `Test123`
3. Нажать "Зарегистрироваться"

### Ожидаемый результат:
- ✅ Пользователь создан в базе данных
- ✅ Пользователь автоматически авторизован
- ✅ Перенаправление на главную страницу
- ✅ Отображается сообщение "Добро пожаловать, Иван Тестов!"
- ✅ Роль пользователя: CLIENT

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-002: Пароль без заглавных букв (Негативный)

**Приоритет:** Высокий  
**Предусловия:** Пользователь не авторизован

### Шаги:
1. Перейти на страницу регистрации
2. Заполнить форму:
   - Username: `test_user2`
   - Email: `test2@example.com`
   - Имя: `Петр`
   - Фамилия: `Петров`
   - Пароль: `test123` (без заглавных)
   - Подтверждение: `test123`
3. Нажать "Зарегистрироваться"

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Отображается ошибка: "Пароль должен содержать хотя бы одну заглавную букву"
- ✅ Пользователь остается на странице регистрации

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-003: Пароль без цифр (Негативный)

**Приоритет:** Высокий

### Шаги:
1. Перейти на страницу регистрации
2. Заполнить форму с паролем `TestAbc` (без цифр)
3. Нажать "Зарегистрироваться"

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Ошибка: "Пароль должен содержать хотя бы одну цифру"

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-004: Пароль короче 4 символов (Негативный)

**Приоритет:** Высокий

### Шаги:
1. Перейти на страницу регистрации
2. Заполнить форму с паролем `Te1` (3 символа)
3. Нажать "Зарегистрироваться"

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Ошибка: "Пароль должен содержать минимум 4 символа"

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-005: Пароль длиннее 16 символов (Негативный)

**Приоритет:** Средний

### Шаги:
1. Заполнить форму с паролем `Test12345678901234` (17 символов)
2. Нажать "Зарегистрироваться"

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Ошибка: "Пароль должен содержать максимум 16 символов"

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-006: Пароль с запрещенными символами (Негативный)

**Приоритет:** Высокий

### Шаги:
1. Попробовать пароли с запрещенными символами:
   - `Test*123` (содержит *)
   - `Test&123` (содержит &)
   - `Test{123}` (содержит { })
   - `Test|123` (содержит |)
   - `Test+123` (содержит +)

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена для всех паролей
- ✅ Ошибка: "Пароль не должен содержать символы: * & { } | +"

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-007: Пароли не совпадают (Негативный)

**Приоритет:** Высокий

### Шаги:
1. Заполнить форму:
   - Пароль: `Test123`
   - Подтверждение: `Test456`
2. Нажать "Зарегистрироваться"

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Ошибка: "Введённые пароли не совпадают"

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-008: Email уже существует (Негативный)

**Приоритет:** Высокий

### Шаги:
1. Зарегистрировать пользователя с email `duplicate@example.com`
2. Попытаться зарегистрировать другого пользователя с тем же email

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Ошибка: "Пользователь с таким email уже зарегистрирован"

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-009: Username уже существует (Негативный)

**Приоритет:** Высокий

### Шаги:
1. Зарегистрировать пользователя с username `duplicate_user`
2. Попытаться зарегистрировать другого пользователя с тем же username

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Ошибка: "Пользователь с таким именем уже существует"

### Фактический результат:
**Статус:** ✅ PASSED

---

## TC-REG-010: Пустые обязательные поля (Негативный)

**Приоритет:** Высокий

### Шаги:
1. Оставить пустыми обязательные поля (username, email, имя, фамилия, пароль)
2. Нажать "Зарегистрироваться"

### Ожидаемый результат:
- ❌ Регистрация НЕ выполнена
- ✅ Отображаются ошибки для всех пустых обязательных полей

### Фактический результат:
**Статус:** ✅ PASSED